(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{1836:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calendar",function(){return e(6984)}])},6984:function(t,a,e){"use strict";e.r(a);var n=e(5893),o=e(8582),s=e(2688),i=e(8583),c=e(7294),l=e(5371),d=e(3376),r=e(8417),_=e.n(r);let u=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];a.default=()=>{let t=new Date,a={day:t.getDate(),month:t.getMonth(),year:t.getFullYear()},[e]=(0,i.KO)(l.L),[r,f]=(0,c.useState)(t.getMonth()),[S,B]=(0,c.useState)(t.getFullYear()),[m,p]=(0,c.useState)([]),[y,j]=(0,c.useState)({}),[b,v]=(0,c.useState)(!1),[x,N]=(0,c.useState)([]),[C,g]=(0,c.useState)(null),[D,k]=(0,c.useState)(null);(0,c.useEffect)(()=>{let t=new Date(S,r+1,0).getDate(),a=new Date(S,r,1).getDay(),e=[];for(let t=0;t<a;t++)e.push(null);for(let a=1;a<=t;a++)e.push(a);p(e)},[r,S]),(0,c.useEffect)(()=>{fetch("https://holidays-jp.github.io/api/v1/date.json").then(t=>t.json()).then(t=>{j(t)}).catch(t=>{console.error("Failed to fetch holidays:",t)})},[]);let w=t=>{let a=r+t,e=S;a>11?(a=0,e++):a<0&&(a=11,e--),f(a),B(e)},F=t=>{N(a=>a.includes(t)?a.filter(a=>a!==t):[...a,t])},E=[];for(let t=10;t<=19;t++)E.push("".concat(t,":00")),19!==t&&E.push("".concat(t,":30"));let I=[];for(let t=11;t<=23;t++)I.push("".concat(t,":00")),19!==t&&I.push("".concat(t,":30"));let O=async()=>{if(!e){console.error("User is missing or null");return}if(null===C||""===C||null===D||""===D){console.error("Start time or end time is missing!");return}for(let t of(console.log("aaa"),x))await d.x.shift.post({body:{id:e.id,date:t.toString(),starttime:C,endtime:D}})};return(0,n.jsxs)("div",{className:_().container,children:[(0,n.jsxs)("div",{className:_().calendarSection,children:[(0,n.jsxs)("div",{className:_().monthNavigation,children:[(0,n.jsx)("button",{className:_().navButton,onClick:()=>w(-1),children:"＜"}),(0,n.jsxs)("span",{children:[u[r]," ",S]}),(0,n.jsx)("button",{className:_().navButton,onClick:()=>w(1),children:"＞"})]}),(0,n.jsxs)("div",{className:_().calendarGrid,children:[h.map(t=>(0,n.jsx)("div",{className:"".concat(_().calendarDay," ").concat(_().dayLabel),children:t},t)),m.map((t,e)=>{let o="";null!==t&&(o="".concat(S,"-").concat((r+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0")));let s=y[o];return(0,n.jsx)("div",{className:"".concat(_().calendarDay," \n                ").concat(t===a.day&&r===a.month&&S===a.year?_().today:""," \n                ").concat(e%7==0||s?_().sunday:""," \n                ").concat(e%7==6?_().saturday:""," \n                ").concat(null!==t&&x.includes(t)?_().selectedDay:""," \n                "),onClick:()=>{null!==t&&F(t)},children:t},e)})]})]}),(0,n.jsxs)("div",{className:_().shiftInputSection,children:[(0,n.jsx)("div",{className:_().clearButtonContainer,children:(0,n.jsx)("button",{className:_().clearButton,onClick:()=>{N([])},children:"選択をクリア"})}),(0,n.jsxs)("div",{className:_().selectedDaysSection,children:["選択された日： ",x.map(t=>"".concat(u[r]," ").concat(t,"日")).join(", ")]}),(0,n.jsx)("button",{className:_().addButton,onClick:()=>v(!0),children:"＋シフトを追加"}),(0,n.jsxs)("div",{className:"".concat(_().shiftBar," ").concat(b?_().shiftBarVisible:""),children:[(0,n.jsx)("div",{className:_().closeButtonContainer,children:(0,n.jsx)("button",{onClick:()=>v(!1),children:"閉じる"})}),(0,n.jsxs)("div",{className:"autocompleteContainer",children:[(0,n.jsx)("div",{className:_().timespace,children:(0,n.jsx)(s.Z,{id:"disabled-options-demo",options:E,sx:{width:300},renderInput:t=>(0,n.jsx)(o.Z,{...t,label:"バイト開始時間"}),onChange:(t,a)=>g(a)})}),(0,n.jsx)("div",{className:_().timespace,children:(0,n.jsx)(s.Z,{id:"disabled-options-demo",options:I,sx:{width:300},renderInput:t=>(0,n.jsx)(o.Z,{...t,label:"バイト終了時間"}),onChange:(t,a)=>k(a)})}),(0,n.jsx)("div",{className:_().timespace,children:(0,n.jsx)("button",{className:"save-to-database-btn",onClick:O,children:"シフトを送る"})})]})]})]})]})}},8417:function(t){t.exports={container:"ShiftBoard_container__8_m0V",calendarSection:"ShiftBoard_calendarSection__d45s4",monthNavigation:"ShiftBoard_monthNavigation__5FDy7",navButton:"ShiftBoard_navButton__aFFIE",shiftInputSection:"ShiftBoard_shiftInputSection__nvcZn",inputGroup:"ShiftBoard_inputGroup__S6brJ",submitButton:"ShiftBoard_submitButton__LI_sn",calendarGrid:"ShiftBoard_calendarGrid__fCQk3",calendarDay:"ShiftBoard_calendarDay__Wezft",daysOfWeek:"ShiftBoard_daysOfWeek__JBKFS",dayLabel:"ShiftBoard_dayLabel__ONjXj",today:"ShiftBoard_today__bjcPE",selectedDay:"ShiftBoard_selectedDay__zn_oj",sunday:"ShiftBoard_sunday__OiIyE",saturday:"ShiftBoard_saturday__vmI6a",holiday:"ShiftBoard_holiday__Jd_8R",shiftBar:"ShiftBoard_shiftBar__V2gx5",shiftBarVisible:"ShiftBoard_shiftBarVisible__7QO9W",addButton:"ShiftBoard_addButton__FVo_6",selectedDaysSection:"ShiftBoard_selectedDaysSection__ok4FC",clearButtonContainer:"ShiftBoard_clearButtonContainer__hWZ_v",clearButton:"ShiftBoard_clearButton__blBXu",autocompleteContainer:"ShiftBoard_autocompleteContainer__gSvJ0",closeButtonContainer:"ShiftBoard_closeButtonContainer__V_g5m",timespace:"ShiftBoard_timespace___4eNC","save-to-database-btn":"ShiftBoard_save-to-database-btn__kS6Fs"}}},function(t){t.O(0,[470,774,888,179],function(){return t(t.s=1836)}),_N_E=t.O()}]);